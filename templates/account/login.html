{% extends "base.html" %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <h2>Login</h2>
        <form method="post" action="{% url 'account_login' %}">
            {% csrf_token %}
            
            {# Preserve the 'next' query parameter #}
            <input type="hidden" name="next" value="{{ request.GET.next|default:'' }}">

            {# Render username/email #}
            <p>
                {{ form.login.label_tag }}
                {{ form.login }}
                {% if form.login.errors %}
                    <span class="error">{{ form.login.errors }}</span>
                {% endif %}
            </p>

            {# Render password #}
            <p>
                {{ form.password.label_tag }}
                {{ form.password }}
                {% if form.password.errors %}
                    <span class="error">{{ form.password.errors }}</span>
                {% endif %}
            </p>

            {# Render 'remember me' checkbox inline #}
            <p>
                <label class="remember-me">
                    {{ form.remember }}
                    Remember me
                </label>
            </p>

            <button type="submit" class="btn-primary">Login</button>
        </form>
        <p class="auth-links">
            <a href="{% url 'account_reset_password' %}">Forgot Password?</a> 
        </p>
    </div>
</div>
{% endblock %}